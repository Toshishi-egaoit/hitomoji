日本語IME「ひともじ」

ひともじ、は冨樫雅人氏作成の日本語IME「風」の64ビット版として作成している。
風がIMM32をベースとして実装されているのにたいして、ひともじはTSF（Text Service Framework）
をベースとしたより新しい世代のIMEとして実装をしている。

TSFを採用した理由は明快で、64ビット対応をするのであれば、TSFが唯一の現実的な
選択肢であるため。

また、ひともじでは、風で不便だった点をいくつか改善し、風の派生版として制作を
すすめている。

ひともじのリポジトリは以下で公開している。
https://github.com/toshishi-egaoit/hitomoji


# hitomoji v0.1系統

目的：
　IMEとしての最低限のキー入力と確定処理が行えること。
　コードは、TSFインタフェース部分とエンジン部の厳密な分離までは求めない。
  これは、分析中毒を防ぐため。

## v0.1 ゴール定義

目的：IMEとしての最小動作確認。入力イベントと Composition の骨格を作る段階。

- IMEのON/OFFができること（Ctrl + Space）
- KeyEventSink の最小限の動作
-- OnTestKeyDown
-- OnKeyDown
-- OnSetFocus(フォーカス変更は未対応)
- ひらがな変換・カタカナ変換は しない
- 変換キーは 存在しない
- Composition の実装
- インライン変換中表示の実装
- 確定キー（Return）による処理
-- 変換中文字列を確定
-- Composition を破棄

## v0.1.1 ゴール定義

目的：ローマ字→ひらがなの最低限の流し込み。

- ひらがな変換マップの作成
- 変換中 Composition に、
-- アルファベット → ひらがな変換結果を与える
- ひらがな確定キーの実装
- カタカナ確定キーの実装
- 英文字変換は実装しない
- 半角カタカナは実装しない
- カナ入力は実装しない
- 変換キーは 実装しない

## v0.1.2 ゴール定義

目的：ソースの整理

- TSFインタフェース部とエンジン部の分離
- エンジン部は、TSFに依存しない形とし、現状のCContytollerをChmEngineに改名
- TSFインタフェース部は現状のCHitomojiをChmeTsfIfにリネームしてファクタリング
- DoEditSessionのエンジン依存処理を切り出して、ChmEngineに移動
- 機能追加は行わないが、バグ修正と、TSF対応アプリの拡充は行う(Edgeをターゲットとする)

## v0.1.3 ゴール定義

目的：英字入力系の分離と整理。

- （半角）英文字確定キーの実装
- 実入力されたアルファベットの内部記録が必要
- そのため v0.1.1 では除外
- 全角英文字変換キーの実装

## v0.1.4 ゴール定義

目的：カナ入力、英字入力の精密な定義

- 大文字と小文字の識別（CapsLockも含めて）
- カナ変換時のウ゛の扱い、UNICODE定義されているカナの扱い
- ワ行のい、えの扱い
- てぃ、でぃ、じぇ、などの扱い
- 複数の記述方法のある文字の扱い(う゛、ヴなど)

## v0.1.5 ゴール定義

目的：編集キーの充実

- ESCによるキャンセル処理
- BSによる文字削除処理
- 矢印キーによる挿入ポイント移動
- INSによる挿入モード（不要かも）
- マウスクリックによる挿入ポイント移動

## v0.1.6 ゴール定義

目的：標準Editコントロール以外での動作検証

- notepadを目標として、IMEとしての機能が動作することを検証
- この時点では、致命的でない不具合はOKとする。
- Edge、Explorerでの動作も同様に検証する。

## v0.1.7 ゴール定義

目的：アイコンの登録

- 「ひともじ」アイコンの作成「ひ」
- IME ON/OFFによるアイコン変更「A」、「漢」など。（ひともじアイコンとは別にする。MS-IMEと同様のIF)
- 変換モード変更によるアイコン変更（変換モードの変更が不要かも）
- アイコンの右クリック対応（設定ファイルのOpenなど）

# v0.2系統

目的：環境設定（個人設定）が行えるようになる。

- 環境ファイル（.ini形式など）の作成
- 環境情報管理クラスの作成

# v0.3系統

目的：一部の特殊文字などの変換を利用できるようにする。
　「風」のギリシャ語入力、算術記号入力などと同等の機能
　事実上、漢字変換のロジックの多くがここで実装される見込み。

- 漢字辞書の構造の決定
- 変換中ウィンドウの生成

# v0.4系統

目的：漢字データベースの整備
　漢字辞書の編集ツールの作成
　ここでは、ひともじ本体への改修はほぼない見込み

- 辞書メンテツールの作成
- 漢字の使用頻度を用いたデータベースの生成ロジック検討
- 風との辞書互換はあまり考えない。（結果として同じになるのはOK)

# v0.5系統

目的：漢字変換処理の実装

- 辞書構造の再検討（必要なら）
- 性能検証（辞書をフル実装した場合）

# v0.6系統

目的：漢字変換での付加機能の実装

- 複数の読みを指定する方式（風の：指定相当の機能）
- 漢字の属性を指定する方式（新規。部首やカテゴリ、教育漢字指定など）
- 異体字対応（無理ならパス）

# v0.7系統

目的：コードの整理
　ここでは、新規の機能は実装しない
 
- エンジン部とTSFインタフェース部をきれいに分ける。
- エンジンだけをDLL化し、外部ツールから利用できるようにする。
- vimをプラグインにて「ひともじ」対応できるか可能性を検討。
- notepadやedgeなどのMS提供アプリでの動作検証（バグがない状態が目標）


